<html>
<head>
<SCRIPT language="Javascript">

var DocRemote = 0;

function makeRemote(){

	if(DocRemote){
		if(DocRemote.closed){
			DocRemote = 0;
			makeRemote();
		}else{
			DocRemote.focus();
		}
	}else{
		DocRemote = window.open('../../search.cfm', 
					    'Search', 
					    'scrollbars,resizable,width=510,height=300');
    	}
}

</SCRIPT>
<script language="JavaScript">
<!--Hide JavaScript

   if (navigator.appName == "Netscape"){
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ns.css" TYPE="text/css">');
      }
   else{
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ie.css" TYPE="text/css">');
   }
//-->
</script>
<title>Pound Signs</title>


</head>
<body>

<!--- Navbar for last page --->
<div class="navigation">
<table>
<tr valign="bottom">
<td width="95%" align="left" valign="bottom" nowrap><em>CFML Language Reference</em></td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../5_Operators/lang_055.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../5_Operators/lang_05.htm"><IMG alt="Up" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../../dochome.htm"><IMG alt="Home" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
<tr align="left" valign="top">
<td colspan="2">
<hr>
<b>Chapter 4	:&nbsp;&nbsp;ColdFusion Expressions: Operators and Other Constructs</b>
</td>
</tr>
</table>
</div>
<br>
<br>

<!-- End of header content. Page content displays below. -->


<br>
<a name="2673587"></a>
 <H1>Pound Signs</H1>



<p>Pound signs (#) have special meaning in ColdFusion. When a CFML application page is processed, ColdFusion treats text delimited by pound signs differently from plain text.</p><p>Two simple and very important points about pound signs in CFML are:</p><ul>
<a name="2673591"> </a>
<li>Use pound signs to distinguish expressions from plain text.

<a name="2673592"> </a>
</li>
<li>When expressions are evaluated, the resulting value is substituted for the expression text.
</li>
</ul>
<p>For example, to output the current value of a variable named &quot;Form.MyFormVariable,&quot; you must delimit the variable name with pound signs:</p><pre>&lt;CFOUTPUT&gt;Value is #Form.MyFormVariable#&lt;/CFOUTPUT&gt;
</pre><p>When ColdFusion processes an expression, it replaces the text of the expression and the two pound signs around it with its resulting value. In the example above, the expression #Form.MyFormVariable# is replaced with whatever value has been assigned to it.</p><p>While the guidelines for using pound signs in CFML are simple, there is still some possibility for confusion to arise. This is particularly true in cases where expressions and plain text are mixed together. The following sections provide more details on how pound signs should be used in CFML.</p><a name="2673599"></a>
 
<H2>Pound signs inside CFOUTPUT tags</H2>
<p>Expressions containing a single variable or a single function can be used freely inside CFOUTPUT tags as long as they are enclosed in pound signs.</p><pre>&lt;CFOUTPUT&gt;
Value is #Form.MyTextField#
&lt;/CFOUTPUT&gt;

&lt;CFOUTPUT&gt;
The name is #FirstName# #LastName#.
&lt;/CFOUTPUT&gt;

&lt;CFOUTPUT&gt;
Cos(0) is #Cos(0)#
&lt;/CFOUTPUT&gt;
</pre><p>If pounds are not used around these expressions, the expression text rather than the expression value will appear in the output generated by the CFOUTPUT statement.</p><p>Note that two expressions inside pound signs can be adjacent to one another, as in</p><pre>&lt;CFOUTPUT&gt;
"Mo" and "nk" is #Left("Moon", 2)# #Mid("Monkey", 3, 2)#
&lt;/CFOUTPUT&gt;
</pre><a name="2673606"></a>
 
<H3>Complex expressions</H3>
<p>Complex expressions involving one or more operators cannot be inserted inside CFOUTPUT tags. The following example will produce an error.</p><pre>&lt;CFOUTPUT&gt;1 + 1 is #1 + 1#&lt;/CFOUTPUT&gt;
</pre><p>To insert the value of a complex expression in the output generated by a CFOUTPUT statement, use CFSET to set a variable to the value of the expression and use that variable inside the CFOUTPUT statement, as is shown below:</p><pre>&lt;CFSET Result=1 + 1&gt;
&lt;CFOUTPUT&gt;1 + 1 is #Result#&lt;/CFOUTPUT&gt;
</pre><a name="2673613"></a>
 
<H2>Pound signs inside strings</H2>
<p>Expressions containing a single variable or a single function can be used inside strings as long as they are enclosed in pound signs.</p><pre>&lt;CFSET TheString="Value is #Form.MyTextField#"&gt;
&lt;CFSET TheString="The name is #FirstName# #LastName#."&gt;
&lt;CFSET TheString="Cos(0) is #Cos(0)#"&gt;
</pre><p>ColdFusion automatically replaces the expression text with the value of the variable or the value returned by the function. For example, the following pairs of CFSET statements produce the same result:</p><pre>&lt;CFSET TheString="Hello, #FirstName#!"&gt;
&lt;CFSET TheString="Hello, " &amp; FirstName &amp; "!"&gt;
</pre><p>If pound signs are not used around these expressions, the expression text as opposed to the expression value will appear in the string. For example, the following pairs of CFSET statements produce the same result:</p><pre>&lt;CFSET TheString="Hello, FirstName!"&gt;
&lt;CFSET TheString="Hello, " &amp; "First" &amp; "Name!"&gt;
</pre><p>As in the case of the CFOUTPUT statement, in strings two expressions can be adjacent to each other, as in</p><pre>&lt;CFSET TheString="Monk is #Left("Moon", 2)##Mid("Monkey", 3, 2)#"&gt;
</pre><p>Note that the double quotes around &quot;Moon&quot; and &quot;Monkey&quot; need not be escaped (or doubled, as in ""Moon"" and ""Monkey""). This is because the text between the pound signs is treated as an expression that is evaluated first before its value is inserted inside the string.</p><a name="2673624"></a>
 
<H3>Inserting complex expressions in strings</H3>
<p>Complex expressions involving one or more operators cannot be inserted inside strings. The following example produces an error:</p><pre>&lt;CFSET TheString="1 + 1 is #1 + 1#"&gt;
</pre><p>To insert the value of a complex expression inside a string, use CFSET to set some variable to the value of the expression and use that variable inside the string, or use the string concatenation operator:</p><pre>&lt;CFSET Result=1 + 1&gt;
&lt;CFSET TheString="1 + 1 is #Result#"&gt;
&lt;CFSET TheString="1 + 1 is " &amp; (1 + 1)&gt;
</pre><p>To insert the pound character inside a string, use two pound signs as shown below:</p><pre>&lt;CFSET TheString="This is a pound sign ##."&gt;
</pre><a name="2673633"></a>
 
<H2>Pound signs inside tag attribute values</H2>
<p>The rules for using pound signs inside strings apply to the use of pound signs inside tag attribute values. The following example demonstrates the point:</p><pre>&lt;CFCOOKIE NAME="TestCookie"
    VALUE="The value is #CookieValue#"&gt;
</pre><p>If the value of a tag attribute is a variable, function, or array element, use the following syntax:</p><pre>&lt;CFCOOKIE NAME="TestCookie"
    VALUE=#CookieValue#&gt;
&lt;CFCOOKIE NAME="TestCookie"
    VALUE=#CookieValueArray[Index]#&gt;
</pre><p>This usage is more efficient than VALUE="#CookieValue#".</p><a name="2673642"></a>
 
<H2>Nested pound signs</H2>
<p>There are very few cases in which pound signs can be nested inside the same expression. Usually, the need for nested pound signs arises because of the high degree of complexity of the expression. The following example shows a valid use of nested pound signs:</p><pre>&lt;CFSET Sentence="The length of the full name
    is #Len("#FirstName# #LastName#")#"&gt;
</pre><p>The pound signs need to be nested so that the values of the variables FirstName and LastName are inserted in the string whose length the Len function will calculate. Generally, the existence of nested pounds implies the presence of a complicated expression. For example, the above piece of CFML could be rewritten to improve its readability:</p><pre>&lt;CFSET FullName="#FirstName# #LastName#"&gt;
&lt;CFSET Sentence="The length of the full name 
    is #Len(FullName)#"&gt;
</pre><p>A common mistake is to put pound signs around the arguments of functions, as in:</p><pre>&lt;CFSET ResultText="#Len(#TheText#)#"&gt;
&lt;CFSET ResultText="#Min(#ThisVariable#, 5 + #ThatVariable#)#"&gt;
&lt;CFSET ResultText="#Len(#Left("Some text", 4)#)#"&gt;
</pre><p>All of the above statements result in errors. As a general rule, <em>never</em> put pound signs around function arguments.</p><a name="2673653"></a>
 
<H2>Pound signs in general expressions</H2>
<p>Allaire recommends that pound signs be used only where necessary. The following example demonstrates the preferred method for referencing variables.</p><pre>&lt;CFSET SomeVar=Var1 + Max(Var2, 10 * Var3) + Var4&gt;
</pre><p>It is a cleaner and more efficient method.</p><p>In contrast, note the following example, which uses pound signs unnecessarily:</p><pre>&lt;CFSET #SomeVar#=#Var1# + #Max(Var2, 10 * Var3)# + #Var4#&gt;
</pre><p></p>
<br>

<br>
<div class="navigation">
<table>
<tr valign="bottom">
<td class="copy" width="95%" align="left" valign="bottom" nowrap>
Copyright &#169; 1999, Allaire Corporation. All rights reserved.
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../5_Operators/lang_055.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../5_Operators/lang_05.htm"><IMG alt="Up" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../../dochome.htm"><IMG alt="Home" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
</table>
</div>
<!-- Last updated: 10/29/99 10:40:20 -->
</body>
</html>
