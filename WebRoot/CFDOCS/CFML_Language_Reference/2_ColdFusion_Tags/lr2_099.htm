<html>
<head>
<SCRIPT language="Javascript">

var DocRemote = 0;

function makeRemote(){

	if(DocRemote){
		if(DocRemote.closed){
			DocRemote = 0;
			makeRemote();
		}else{
			DocRemote.focus();
		}
	}else{
		DocRemote = window.open('../../search.cfm', 
					    'Search', 
					    'scrollbars,resizable,width=510,height=300');
    	}
}

</SCRIPT>
<script language="JavaScript">
<!--Hide JavaScript

   if (navigator.appName == "Netscape"){
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ns.css" TYPE="text/css">');
      }
   else{
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ie.css" TYPE="text/css">');
   }
//-->
</script>
<title>CFTREE</title>
</head>
<body>

<div class="navigation">
<table>
<tr valign="bottom">
<td width="90%" align="left" valign="bottom" nowrap><em>CFML Language Reference</em>
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../2_ColdFusion_Tags/lr2_098.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../2_ColdFusion_Tags/lr2.htm"><IMG alt="Up One Level" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../2_ColdFusion_Tags/lr2_100.htm"><IMG alt="Next" border="0" height="16" src="../../images/icons/next.gif" width="16"></a>
<a href="../../dochome.htm"><IMG alt="" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
<tr align="left" valign="top">
<td colspan="2">
<hr>
<b>Chapter 1	:&nbsp;&nbsp;ColdFusion Tags</b>
</td>
</tr>
</table>
</div>
<br>
<br>

<br>
<a name="1973540"></a>
 <H1>CFTREE</H1>



<p>The CFTREE form custom control allows you to place a tree control in a <a href="../2_ColdFusion_Tags/lr2_040.htm#1968844">CFFORM</a>. User selections can be validated. Individual tree items are created with <a href="../2_ColdFusion_Tags/lr2_100.htm#1973697">CFTREEITEM</a> tags inside the CFTREE tag block.</p><div>
<table>
<tr valign="top">
<td width="30"><strong>Note	</strong></td>
<td>CFTREE incorporates a Java applet, so a browser must be Java-enabled 
for CFTREE to work properly.
</td>
</tr>
</table>
</div>
<br><a name="1973546"></a>
 
<H3>Syntax</H3>
<PRE>&lt;CFTREE NAME="name"
    REQUIRED="Yes/No"
    DELIMITER="delimiter"
    COMPLETEPATH="Yes/No"
    APPENDKEY="Yes/No"
    HIGHLIGHTHREF="Yes/No"
    ONVALIDATE="script_name"
    MESSAGE="text"
    ONERROR="text"
    FONT="font"
    FONTSIZE="size"
    ITALIC="Yes/No"
    BOLD="Yes/No"
    HEIGHT="integer"
    WIDTH="integer"
    VSPACE="integer"
    HSPACE="integer"
    ALIGN="alignment"
    BORDER="Yes/No"
    HSCROLL="Yes/No"
    VSCROLL="Yes/No"
    NOTSUPPORTED="text"&gt;
&nbsp;
&lt;/CFTREE&gt;
</PRE><a name="1973548"></a>
<h4> NAME</h4>
<p>Required. A name for the CFTREE control.</p><a name="1973550"></a>
<h4> REQUIRED</h4>
<p>Optional. Yes or No. User must select an item in the tree control. Default is No.</p><a name="1973552"></a>
<h4> DELIMITER</h4>
<p>Optional. The character used to separate elements in the form variable PATH. The default is "\".</p><a name="1973554"></a>
<h4> COMPLETEPATH</h4>
<p>Optional. Yes passes the root level of the treename.path form variable when the CFTREE is submitted. If omitted or No, the root level of this form variable is not included.</p><a name="1973556"></a>
<h4> APPENDKEY</h4>
<p>Optional. Yes or No. When used with HREF, Yes passes the CFTREEITEMKEY variable along with the value of the selected tree item in the URL to the application page specified in the CFFORM ACTION attribute. The default is Yes.</p><a name="1973558"></a>
<h4> HIGHLIGHTHREF</h4>
<p>Optional. Yes highlights links associated with a CFTREEITEM with a URL attribute value. No disables highlight. Default is Yes.</p><a name="1973560"></a>
<h4> ONVALIDATE</h4>
<p>Optional. The name of a valid JavaScript function used to validate user input. The form object, input object, and input object value are passed to the specified routine, which should return true if validation succeeds and false otherwise. </p><a name="1973562"></a>
<h4> MESSAGE</h4>
<p>Optional. Message text to appear if validation fails.</p><a name="1973564"></a>
<h4> ONERROR</h4>
<p>Optional. The name of a valid JavaScript function you want to execute in the event of a failed validation. </p><a name="1973566"></a>
<h4> FONT</h4>
<p>Optional. Font name to use for all data in the tree control. </p><a name="1973568"></a>
<h4> FONTSIZE</h4>
<p>Optional. Font size for text in the tree control, measured in points.</p><a name="1973570"></a>
<h4> ITALIC</h4>
<p>Optional. Yes or No. Yes presents all tree control text in italic. Default is No.</p><a name="1973572"></a>
<h4> BOLD</h4>
<p>Optional. Yes or No. Yes presents all tree control text in boldface. Default is No.</p><a name="1973574"></a>
<h4> HEIGHT</h4>
<p>Optional. Height value of the tree control, in pixels.</p><a name="1973576"></a>
<h4> WIDTH</h4>
<p>Optional. Width value of the tree control, in pixels.</p><a name="1973578"></a>
<h4> VSPACE</h4>
<p>Optional. Vertical margin spacing above and below the tree control in pixels.</p><a name="1973580"></a>
<h4> HSPACE</h4>
<p>Optional. Horizontal spacing to the left and right of the tree control, in pixels.</p><a name="1973582"></a>
<h4> ALIGN</h4>
<p>Optional. Alignment value. Valid entries are:</p><ul>
<a name="1973584"> </a>
<li>Top

<a name="1973585"> </a>
</li>
<li>Left
<a name="1973586"> </a>
</li>
<li>Bottom
<a name="1973587"> </a>
</li>
<li>Baseline
<a name="1973588"> </a>
</li>
<li>TextTop
<a name="1973589"> </a>
</li>
<li>AbsBottom
<a name="1973590"> </a>
</li>
<li>Middle
<a name="1973591"> </a>
</li>
<li>AbsMiddle
<a name="1973592"> </a>
</li>
<li>Right
</li>
</ul>
<a name="1973593"></a>
<h4> BORDER</h4>
<p>Optional. Places a border around the tree. Default is Yes.</p><a name="1973595"></a>
<h4> HSCROLL</h4>
<p>Optional. Permits horizontal scrolling. Default is Yes.</p><a name="1973597"></a>
<h4> VSCROLL</h4>
<p>Optional. Permits vertical scrolling. Default is Yes.</p><a name="1973599"></a>
<h4> NOTSUPPORTED</h4>
<p>Optional. The text you want to display if the page containing a Java applet-based CFFORM control is opened by a browser that does not support Java or has Java support disabled. For example:</p><pre>NOTSUPPORTED="&lt;B&gt; Browser must support Java to
view ColdFusion Java Applets&lt;/B&gt;"
</pre><p>By default, if no message is specified, the following message appears:</p><pre>&lt;B&gt;Browser must support Java to &lt;BR&gt;
view ColdFusion Java Applets!&lt;/B&gt;
</pre><a name="2045617"></a>
 
<H3>Example</H3>
<FORM ACTION="../../tagframe.cfm" TARGET="runcftag">
<INPUT TYPE="Hidden" NAME="tagname" VALUE="cftree
">
<INPUT TYPE="Submit" VALUE="Example">
</FORM><pre>&lt;!--- This example shows the use of CFTREE in a CFFORM.
The query takes a list of employees, and uses CFTREE and CFSELECT
to display the results of the query.  In addition, CFGRID is used
to show an alternate means of displaying the same data ---&gt;
&lt;!--- set a default for the employeeNames variable ---&gt;
&lt;CFPARAM NAME="employeeNames" DEFAULT=""&gt;
&lt;!--- if an employee name has been passed from the form,
set employeeNames variable to this value ---&gt;
&lt;CFIF IsDefined("form.employeeNames")&gt;
    &lt;CFSET employeeNames = form.employeeNames&gt;
&lt;/CFIF&gt;
&lt;!--- query the datasource to find the employee information---&gt;
&lt;CFQUERY NAME="GetEmployees" DATASOURCE="cfsnippets"&gt;
SELECT   Emp_ID, FirstName, LastName, EMail, Phone, Department
FROM     Employees where lastname 
         &lt;CFIF #employeeNames# is not ""&gt;= '#employeeNames#'&lt;/CFIF&gt;
&lt;/CFQUERY&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;TITLE&gt;
CFTREE Example
&lt;/TITLE&gt;
&lt;/HEAD&gt;

&lt;BODY&gt;
&lt;H3&gt;CFTREE Example&lt;/H3&gt;

&lt;!--- Use CFFORM when using other CFINPUT tools ---&gt;
&lt;CFFORM ACTION="cftree.cfm" METHOD="POST" ENABLECAB="Yes"&gt;
&lt;!--- Use CFSELECT to present the contents of the query by column ---&gt;
&lt;H3&gt;CFSELECT Presentation of Data&lt;/H3&gt;
&lt;H4&gt;Click on an employee's last name and hit "see information for
this employee" to see expanded information.&lt;/H4&gt;

&lt;CFSELECT NAME="EmployeeNames" MESSAGE="Select an Employee Name"
    SIZE="#getEmployees.recordcount#" QUERY="GetEmployees"
    VALUE="LastName" REQUIRED="No"&gt;
    &lt;OPTION value=""&gt;Select All
&lt;/CFSELECT&gt;

&lt;INPUT TYPE="Submit" NAME="" VALUE="see information for this employee"&gt;

&lt;!--- showing the use of CFTREE ---&gt;
&lt;!--- Use CFTREE for an expanded presentation of the data ---&gt;
&lt;!--- Loop through the query to create each branch of the CFTREE ---&gt;
&lt;H3&gt;CFTREE Presentation of Data&lt;/H3&gt;
&lt;H4&gt;Click on the folders to "drill down" and reveal information.&lt;/H4&gt;
&lt;P&gt;CFTREEITEM is used to create the "branches" of the tree.
&lt;P&gt;
&lt;CFTREE NAME="SeeEmployees" HEIGHT="150" WIDTH="240" 
    FONT="Arial Narrow" BOLD="No" 
    ITALIC="No" BORDER="Yes" 
    HSCROLL="Yes" VSCROLL="Yes" 
    REQUIRED="No" COMPLETEPATH="No" 
    APPENDKEY="Yes" HIGHLIGHTHREF="Yes"&gt;
&lt;CFLOOP QUERY="GetEmployees"&gt;
    &lt;CFTREEITEM VALUE="#Emp_ID#" PARENT="SeeEmployees" EXPAND="No"&gt;
    &lt;CFTREEITEM VALUE="#LastName#" DISPLAY="Name" 
        PARENT="#Emp_ID#" QUERYASROOT="No" 
        EXPAND="No"&gt;
    &lt;CFTREEITEM VALUE="#LastName#, #FirstName#" 
        PARENT="#LastName#" EXPAND="No" 
        QUERYASROOT="No"&gt;
    &lt;CFTREEITEM VALUE="#Department#" DISPLAY="Department"
        PARENT="#Emp_ID#" QUERYASROOT="No" 
        EXPAND="No"&gt;
    &lt;CFTREEITEM VALUE="#Department#" PARENT="#Department#" 
        EXPAND="No" QUERYASROOT="No"&gt;
    &lt;CFTREEITEM VALUE="#Phone#" DISPLAY="Phone" 
        PARENT="#Emp_ID#" QUERYASROOT="No" 
        EXPAND="No"&gt;
    &lt;CFTREEITEM VALUE="#Phone#" PARENT="#Phone#" 
        EXPAND="No" QUERYASROOT="No"&gt;
    &lt;CFTREEITEM VALUE="#Email#" DISPLAY="Email" PARENT="#Emp_ID#"
          QUERYASROOT="No" EXPAND="No"&gt;
    &lt;CFTREEITEM VALUE="#Email#" PARENT="#Email#" EXPAND="No"
        QUERYASROOT="No"&gt;
&lt;/CFLOOP&gt;
&lt;/CFTREE&gt;
...
</pre><FORM ACTION="../../tagframe.cfm" TARGET="runcftag">
<INPUT TYPE="Hidden" NAME="tagname" VALUE="cftree
">
<INPUT TYPE="Submit" VALUE="Example">
</FORM>
<br>

<div class="navigation">
<table>
<tr valign="bottom">
<td class="copy" width="90%" align="left" valign="bottom" nowrap>
Copyright &#169; 1999, Allaire Corporation. All rights reserved.
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../2_ColdFusion_Tags/lr2_098.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../2_ColdFusion_Tags/lr2.htm"><IMG alt="Up" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../2_ColdFusion_Tags/lr2_100.htm"><IMG alt="Next" border="0" height="16" src="../../images/icons/next.gif" width="16"></a>
<a href="../../dochome.htm"><IMG alt="Home" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
</table>
</div>
<!-- Last updated: 10/29/99 10:39:45 -->
</body>
</html>