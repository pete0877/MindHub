<html>
<head>
<SCRIPT language="Javascript">

var DocRemote = 0;

function makeRemote(){

	if(DocRemote){
		if(DocRemote.closed){
			DocRemote = 0;
			makeRemote();
		}else{
			DocRemote.focus();
		}
	}else{
		DocRemote = window.open('../../search.cfm', 
					    'Search', 
					    'scrollbars,resizable,width=510,height=300');
    	}
}

</SCRIPT>
<script language="JavaScript">
<!--Hide JavaScript

   if (navigator.appName == "Netscape"){
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ns.css" TYPE="text/css">');
      }
   else{
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ie.css" TYPE="text/css">');
   }
//-->
</script>
<title>Sending Email Messages</title>
</head>
<body>

<div class="navigation">
<table>
<tr valign="bottom">
<td width="90%" align="left" valign="bottom" nowrap><em>Developing Web Applications with ColdFusion</em>
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../13_Sending_and_Receiving_Email/dwa13_02.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../13_Sending_and_Receiving_Email/dwa13.htm"><IMG alt="Up One Level" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../13_Sending_and_Receiving_Email/dwa13_04.htm"><IMG alt="Next" border="0" height="16" src="../../images/icons/next.gif" width="16"></a>
<a href="../../dochome.htm"><IMG alt="" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
<tr align="left" valign="top">
<td colspan="2">
<hr>
<b>Chapter 13	:&nbsp;&nbsp;Sending and Receiving Email</b>
</td>
</tr>
</table>
</div>
<br>
<br>

<br>
<a name="999001"></a>
 <H1>Sending Email Messages</H1>



<p>Before you set up ColdFusion to send email messages, you must have access to an SMTP email server. Also, before you run application pages that refer to the email server, you may want to configure the ColdFusion Administrator to use the SMTP server so that you don't have to hard-code it in your application.</p>
<div class="proc">
<table>
<tr valign="top">
<td width="25"><img src="../../images/icons/doit.gif" WIDTH=25 HEIGHT=28  
align="middle" border="0" alt="Note"></td>
<td class="proc">To configure ColdFusion for email:
</td>
</tr>
</table>
</div><ol>
<li class="first">Open the Mail page in the ColdFusion Administrator.


</li>
<li>In the Mail Server box, enter the address of the SMTP mail server you want ColdFusion to use.

</li>
<li>Normally, you leave the Server Port and Connection Timeout settings at their default values, unless you need different settings.

</li>
<li>Click Apply to save the settings.

</li>
<li>To verify server settings, click the Verify button to make sure ColdFusion can access your mail server.

</li>
</ol>
<p>See <a href="../../Administering_ColdFusion_Server/contents.htm"><em>Administering ColdFusion Server</em></a> or more information on the Administrator's mail settings.</p><a name="997413"></a>
 
<H2>Sending SMTP mail with CFMAIL</H2>
<p>The CFMAIL tag provides support for sending SMTP email from within ColdFusion applications. The CFMAIL tag is similar to the CFOUTPUT tag, except that CFMAIL outputs the generated text as SMTP mail messages rather than to a page. You can use all the attributes and commands that you use with CFOUTPUT with CFMAIL as well.</p>
<div class="proc">
<table>
<tr valign="top">
<td width="25"><img src="../../images/icons/doit.gif" WIDTH=25 HEIGHT=28  
align="middle" border="0" alt="Note"></td>
<td class="proc">To send a simple email message:
</td>
</tr>
</table>
</div><ol>
<li class="first">Create a new file in Studio.


</li>
<li>Modify the file so that it appears as follows:

<pre>&lt;HTML&gt;
&lt;HEAD&gt;
    &lt;TITLE&gt;Sending a simple email&lt;/TITLE&gt;
&lt;/HEAD&gt;

&lt;BODY&gt;
&lt;H1&gt;Sample email&lt;/H1&gt;
&lt;CFMAIL
    FROM="Sender@Company.com"
    TO="#URL.email#"
    SUBJECT="Sample email"
&gt;
This is a sample email to show basic email capability.

&lt;/CFMAIL&gt;

The email was sent.

&lt;/BODY&gt;
&lt;/HTML&gt;
</pre></li>
<li>Save the file as <code>sendmail.cfm</code> in <code>myapps</code> under the Web root directory.

</li>
<li>Open your browser and enter the URL that contains the file. Replace myname@mycompany.com with you email address. For example, 

<pre>http://localhost/myapps/sendmail.cfm?email=myname@mycompany.com
</pre></li>
</ol>
<p>The template sends the email to you, through your SMTP server.</p>
<br>

<div class="navigation">
<table>
<tr valign="bottom">
<td class="copy" width="90%" align="left" valign="bottom" nowrap>
Copyright &#169; 1999, Allaire Corporation. All rights reserved.
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../13_Sending_and_Receiving_Email/dwa13_02.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../13_Sending_and_Receiving_Email/dwa13.htm"><IMG alt="Up" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../13_Sending_and_Receiving_Email/dwa13_04.htm"><IMG alt="Next" border="0" height="16" src="../../images/icons/next.gif" width="16"></a>
<a href="../../dochome.htm"><IMG alt="Home" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
</table>
</div>
<!-- Last updated: 10/27/99 18:19:56 -->
</body>
</html>