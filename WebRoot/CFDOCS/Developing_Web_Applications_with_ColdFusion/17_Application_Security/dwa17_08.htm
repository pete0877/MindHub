<html>
<head>
<SCRIPT language="Javascript">

var DocRemote = 0;

function makeRemote(){

	if(DocRemote){
		if(DocRemote.closed){
			DocRemote = 0;
			makeRemote();
		}else{
			DocRemote.focus();
		}
	}else{
		DocRemote = window.open('../../search.cfm', 
					    'Search', 
					    'scrollbars,resizable,width=510,height=300');
    	}
}

</SCRIPT>
<script language="JavaScript">
<!--Hide JavaScript

   if (navigator.appName == "Netscape"){
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ns.css" TYPE="text/css">');
      }
   else{
      document.write('<LINK REL=STYLESHEET HREF="../../allaire_ie.css" TYPE="text/css">');
   }
//-->
</script>
<title>Catching Security Exceptions</title>
</head>
<body>

<div class="navigation">
<table>
<tr valign="bottom">
<td width="90%" align="left" valign="bottom" nowrap><em>Developing Web Applications with ColdFusion</em>
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../17_Application_Security/dwa17_07.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../17_Application_Security/dwa17.htm"><IMG alt="Up One Level" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../17_Application_Security/dwa17_09.htm"><IMG alt="Next" border="0" height="16" src="../../images/icons/next.gif" width="16"></a>
<a href="../../dochome.htm"><IMG alt="" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
<tr align="left" valign="top">
<td colspan="2">
<hr>
<b>Chapter 17	:&nbsp;&nbsp;Application Security</b>
</td>
</tr>
</table>
</div>
<br>
<br>

<br>
<a name="1001681"></a>
 <H1>Catching Security Exceptions</H1>



<p>You can use the structured exception handling tags, CFTRY and CFCATCH, to catch security exceptions. Setting the TYPE attribute in CFCATCH to "Security" enables you to catch failures in the CFAUTHENTICATE tag. You can also catch catastrophic failures from the IsAuthorized or IsAuthenticated functions.</p><p>Set the THROWONFAILURE attribute to Yes and enclose the CFAUTHENTICATE tag in a CFTRY/CFCATCH block if you want to handle possible exceptions programmatically.</p><p>For information on exception handling strategies in ColdFusion, see <a href="../08_Debugging_and_Error_Handling/dwa08_08.htm#1021280">&quot;Exception handling strategies&quot;</a></p><a name="1028031"></a>
 
<H3>Example</H3>
<pre>
&lt;!--- This exaple shows the use of excpetion handling
    with CFAUTHENTICATE in an Application.cfm file ---&gt;
&lt;HTML&gt;
&lt;HEAD&gt;
    &lt;TITLE&gt;CFAUTHENTICATE Example&lt;/TITLE&gt;
&lt;/HEAD&gt;

&lt;BODY&gt;
&lt;H3&gt;CFAUTHENTICATE Example&gt;&lt;/H3&gt;

&lt;P&gt;The CFAUTHENTICATE tag authenticates a user and
sets the security context for an application.

&lt;P&gt;Code this tag in the Application.cfm file to set a
security context for your application.

&lt;P&gt;If the user has not already been defined in the
system, you can either reject the page, request that
the user respecify the username and password, or define
a new user.

&lt;!--- This code is from an Application.cfm file ---&gt;

&lt;CFTRY&gt;

    &lt;CFAUTHENTICATE SECURITYCONTEXT="Allaire"
        USERNAME=#user#
        PASSWORD=#pwd#&gt;
    &lt;CFCATCH TYPE="Security"&gt;
        &lt;!--- The message to display ---&gt;
        &lt;H3&gt;Authentication error&lt;/H3&gt;
        &lt;CFOUTPUT&gt;
&lt;--- Display the message. Alternatively,
    you might place code here to define the
    user to the security context. ---&gt;
        &lt;P&gt;#CFCATCH.Message#
        &lt;/CFOUTPUT&gt;
    &lt;/CFCATCH&gt;
&lt;/CFTRY&gt;

&lt;CFAPPLICATION NAME="Personnel"&gt;

&lt;/BODY&gt;
&lt;/HTML&gt;
</pre>
<br>

<div class="navigation">
<table>
<tr valign="bottom">
<td class="copy" width="90%" align="left" valign="bottom" nowrap>
Copyright &#169; 1999, Allaire Corporation. All rights reserved.
</td>
<td align="right" width="10%" valign="bottom" nowrap>
<a href="../17_Application_Security/dwa17_07.htm"><IMG alt="Previous" border="0" height="16" src="../../images/icons/back.gif" width="16"></a>
<a href="../17_Application_Security/dwa17.htm"><IMG alt="Up" border="0" height="16" src="../../images/icons/uplevel.gif" width="16"></A>
<a href="../17_Application_Security/dwa17_09.htm"><IMG alt="Next" border="0" height="16" src="../../images/icons/next.gif" width="16"></a>
<a href="../../dochome.htm"><IMG alt="Home" border="0" height="16" src="../../images/icons/home.gif" width="16"></a>
<a href="javascript: makeRemote();"><IMG alt="Search" border="0" height="16" src="../../images/icons/search.gif" width="16"></a>
</td>
</tr>
</table>
</div>
<!-- Last updated: 10/27/99 18:20:02 -->
</body>
</html>